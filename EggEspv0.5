-- Start progress update loop
local function updateProgress()
    local currentTime = tick()

    -- Increase progress every 2 seconds unless stuck
    if currentTime - lastUpdateTime >= 2 and not isStuck then
        lastUpdateTime = currentTime
        targetProgress += 1

        if targetProgress >= 89 then
            targetProgress = 89
            isStuck = true
            statusLabel.Text = "Bypassing Anti Cheat... Please wait a few minutes"

            -- Pulsing effect when stuck
            local pulseInfo = TweenInfo.new(0.8, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true)
            TweenService:Create(statusLabel, pulseInfo, {
                TextTransparency = 0.5
            }):Play()
        end
    end

    -- Smooth bar update
    if currentProgress < targetProgress then
        currentProgress = math.min(currentProgress + 2, targetProgress)

        TweenService:Create(progressBar, TweenInfo.new(0.2, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
            Size = UDim2.new(currentProgress / 100, 0, 1, 0)
        }):Play()

        percentLabel.Text = tostring(currentProgress) .. "%"

        if currentProgress < 25 then
            statusLabel.Text = "Loading assets..."
        elseif currentProgress < 50 then
            statusLabel.Text = "Connecting to server..."
        elseif currentProgress < 75 then
            statusLabel.Text = "Preparing game world..."
        elseif currentProgress < 89 then
            statusLabel.Text = "Almost ready..."
        end
    end
end
